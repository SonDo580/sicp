## Example

```scheme
(define (square x)
    (* x x))
(define (sum-of-squares x y)
    (+ (square x) (square y)))
(define (f a)
    (sum-of-squares (+ a 1) (* a 2)))
```

=> Create 3 procedures objects, each points to the global environment.

## Evaluate `(f 5)`

- Create a new environment `E1` beginning with a frame in which `a` (parameter of `f`) is bound to 5.
- In `E1`, evaluate the body of `f`: `(sum-of-squares (+ a 1) (* a 2))`
- The first sub-expression `sum-of-squares` has the value as a procedure object (We first look in the first frame of `E1`, which contains no bindings for `sum-of-squares`. Then we proceed to the enclosing environment - the global environment - and find the binding).
- The other 2 sub-expressions are evaluated to 6 and 10 (by applying the primitive operation `+` and `*`).
- Create a new environment `E2` in which the `x` and `y` (parameters of `sum-of-squares`) are bound to 6 and 10.
- In `E2`, evaluate the body of `sum-of-squares`: `(+ (square 6) (square 10)`
- `square` is found in the global frame (similar to `sum-of-squares`)
- Setup a new environment `E3`, in which `x` is bound to 6, and within this we evaluate the body of `square`: `(* 6 6)` => 36
- Setup a new environment `E4`, in which `x` is bound to 10, and within this we evaluate the body of `square`: `(* 10 10)` => 100

**Note:**

- E1, E2, E3, E4 both points to the global environment.
- The values generated by the 2 calls to `square` are added by `sum-of-squares`, and this result is returned by `f`.
